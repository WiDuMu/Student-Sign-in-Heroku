(function(){"use strict";var t={755:function(t,e,n){var d=n(963),r=n(252);function s(t,e,n,d,s,u){const a=(0,r.up)("new-student-form"),i=(0,r.up)("student-table"),o=(0,r.up)("student-message");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(a,{onStudentAdded:u.newStudentAdded},null,8,["onStudentAdded"]),(0,r.Wm)(i,{students:s.students,onStudentArrivedOrLeft:u.studentArrivedOrLeft,onDeleteStudent:u.studentDeleted},null,8,["students","onStudentArrivedOrLeft","onDeleteStudent"]),(0,r.Wm)(o,{student:s.mostRecentStudent},null,8,["student"])])}var u=n(577);const a={class:"alert alert-danger"},i={class:"card add-student m-2 p-2"},o=(0,r._)("h4",{class:"card-title"},"Add new student",-1),l={class:"form-group"},c=(0,r._)("label",{for:"name"},"Name",-1),h={class:"form-group"},p=(0,r._)("label",{for:"starID"},"Star ID",-1);function f(t,e,n,s,f,m){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.wy)((0,r._)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.errors,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t},(0,u.zw)(t),1)))),128))],512),[[d.F8,f.errors.length>0]]),(0,r._)("div",i,[o,(0,r._)("div",l,[c,(0,r.wy)((0,r._)("input",{id:"name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>f.newStudentName=t)},null,512),[[d.nr,f.newStudentName,void 0,{trim:!0}]])]),(0,r._)("div",h,[p,(0,r.wy)((0,r._)("input",{id:"starID",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>f.newStarID=t)},null,512),[[d.nr,f.newStarID,void 0,{trim:!0}]])]),(0,r._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=(...t)=>m.addStudent&&m.addStudent(...t))},"Add")])])}var m={name:"NewStudentForm",emits:["student-added"],data(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent(){if(this.errors=[],this.newStudentName||this.errors.push("Must enter student name!"),this.newStarID||this.errors.push("Must have StarID"),0==this.errors.length){let t={name:this.newStudentName,starID:this.newStarID,present:!1};this.$emit("student-added",t),this.newStudentName="",this.newStarID=""}}}},v=n(744);const S=(0,v.Z)(m,[["render",f]]);var w=S;const g={key:0,class:"alert alert-success"},A={key:1,class:"alert alert-info"};function b(t,e,n,s,a,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.wy)((0,r._)("div",null,[n.student.present?((0,r.wg)(),(0,r.iD)("div",g," Welcome, "+(0,u.zw)(n.student.name)+"! ",1)):((0,r.wg)(),(0,r.iD)("div",A," Goodbye, "+(0,u.zw)(n.student.name)+". See you later! ",1))],512),[[d.F8,n.student.name]])])}var _={name:"StudentMessage",props:{student:Object}};const D=(0,v.Z)(_,[["render",b]]);var y=D;const I=t=>((0,r.dD)("data-v-2c67edf2"),t=t(),(0,r.Cn)(),t),O={class:"card student-list m-2 p-2"},k=I((()=>(0,r._)("h4",{class:"card-title"},"Student List",-1))),C={class:"edit-table-toggle form-check"},N=I((()=>(0,r._)("label",{for:"edit-table",class:"form-check-label"},"Edit table?",-1))),L={id:"student-table"},T={class:"table"},B=I((()=>(0,r._)("tr",null,[(0,r._)("th",null,"Name"),(0,r._)("th",null,"StarID"),(0,r._)("th",null,"Present?")],-1)));function $(t,e,n,s,u,a){const i=(0,r.up)("student-row");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",O,[k,(0,r._)("div",C,[(0,r.wy)((0,r._)("input",{id:"edit-table",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[0]||(e[0]=t=>u.editTable=t)},null,512),[[d.e8,u.editTable]]),N]),(0,r._)("div",L,[(0,r._)("table",T,[B,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.students,(t=>((0,r.wg)(),(0,r.j4)(i,{student:t,edit:u.editTable,key:t.starID,onStudentArrivedOrLeft:a.arrivedOrLeft,onDeleteStudent:a.deleteStudent},null,8,["student","edit","onStudentArrivedOrLeft","onDeleteStudent"])))),128))])])])])}var E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAxElEQVRIieWVTQrCMBCFP6V05xHUI+iNBE/i0vvVE7S60r2CSl106iJmwkwJlOKDEML8vLzJDIF/wQFog3W0BM6Cc5vpQt+880wJXTjRKdk4YrYSU4WGmIJa9pWDoPetQ8MoBI3sSwdB79uEhpSCIQQuBUNK5FKQ5Q1iKIE38AIKg38BPCWmtN7oQtfXFhVr8T3HjNoke8qULM/oBJZWVVs0ReAZNnXIUgTTeQMNC+DB7y+mrbvEuLAHbobkV2DnTT4dfACHn0C6dhBvzgAAAABJRU5ErkJggg==";const j=["checked"];function Q(t,e,n,s,a,i){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,u.C_)({present:n.student.present,absent:!n.student.present})},[(0,r._)("td",null,(0,u.zw)(n.student.name),1),(0,r._)("td",null,(0,u.zw)(n.student.starID),1),(0,r._)("td",null,[(0,r._)("input",{type:"checkbox",checked:n.student.present,onChange:e[0]||(e[0]=t=>i.arrivedOrLeft(n.student,t.srcElement.checked))},null,40,j)]),(0,r.wy)((0,r._)("td",null,[(0,r._)("img",{onClick:e[1]||(e[1]=t=>i.deleteStudent(n.student)),src:E})],512),[[d.F8,n.edit]])],2)}var R={name:"StudentRow",props:{student:Object,edit:Boolean},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(t){console.log(this.student),confirm(`Delete ${t.name}?`)&&this.$emit("delete-student",this.student)}}};const V=(0,v.Z)(R,[["render",Q],["__scopeId","data-v-48988b68"]]);var F=V,M={components:{StudentRow:F},name:"StudentTable",emits:["student-arrived-or-left","delete-student"],props:{students:Array},data(){return{editTable:!1}},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(t){console.log(t),this.$emit("delete-student",t)}}};const U=(0,v.Z)(M,[["render",$],["__scopeId","data-v-2c67edf2"]]);var W=U,J={name:"App",components:{NewStudentForm:w,StudentMessage:y,StudentTable:W},data(){return{students:[],mostRecentStudent:{}}},mounted(){this.updateStudents()},methods:{newStudentAdded(t){this.$student_api.addStudent(t).then((()=>{this.updateStudents()})).catch((t=>{let e=t.response.data.join(", ");alert("Error adding student.\n"+e)}))},studentArrivedOrLeft(t,e){t.present=e,this.$student_api.updateStudent(t).then((()=>{this.mostRecentStudent=t,this.updateStudents}))},studentDeleted(t){console.log(t),this.$student_api.deleteStudent(t.id).then((()=>{this.updateStudents(),this.mostRecentStudent={}}))},updateStudents(){this.$student_api.getAllStudents().then((t=>{this.students=t}))}}};const K=(0,v.Z)(J,[["render",s]]);var x=K,z=n(669),P=n.n(z);const Z="/api/students";var H={getAllStudents(){return P().get(Z).then((t=>t.data))},addStudent(t){return P().post(Z,t).then((t=>t.data))},updateStudent(t){return P().patch(`${Z}/${t.id}`,t).then((t=>t.data))},deleteStudent(t){return P()["delete"](`${Z}/${t}`).then((t=>t.data))}};let Y=(0,d.ri)(x);Y.config.globalProperties.$student_api=H,Y.mount("#app")}},e={};function n(d){var r=e[d];if(void 0!==r)return r.exports;var s=e[d]={exports:{}};return t[d](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,d,r,s){if(!d){var u=1/0;for(l=0;l<t.length;l++){d=t[l][0],r=t[l][1],s=t[l][2];for(var a=!0,i=0;i<d.length;i++)(!1&s||u>=s)&&Object.keys(n.O).every((function(t){return n.O[t](d[i])}))?d.splice(i--,1):(a=!1,s<u&&(u=s));if(a){t.splice(l--,1);var o=r();void 0!==o&&(e=o)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[d,r,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var d in e)n.o(e,d)&&!n.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:e[d]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,d){var r,s,u=d[0],a=d[1],i=d[2],o=0;if(u.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(i)var l=i(n)}for(e&&e(d);o<u.length;o++)s=u[o],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(l)},d=self["webpackChunkstudentsignin"]=self["webpackChunkstudentsignin"]||[];d.forEach(e.bind(null,0)),d.push=e.bind(null,d.push.bind(d))}();var d=n.O(void 0,[998],(function(){return n(755)}));d=n.O(d)})();
//# sourceMappingURL=app.6c413a5b.js.map